<!-- Gallery Container -->
<div class="gallery-container">

  <!-- Section 1: Enhanced Introductory Message with Full Height Container -->
  <section class="intro-section">
    <div class="intro-content">
      <div class="intro-text">
        <h1 class="gallery-title">Event Gallery</h1>
        <p class="gallery-subtitle">
          Explore the vibrant memories of our past events, where ideas came alive and creativity thrived. Let these moments inspire you to be part of our growing community of learners, creators, and innovators.
        </p>
        
        <!-- Enhanced Visual Elements -->
        <div class="gallery-features">
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                <circle cx="8.5" cy="8.5" r="1.5" stroke="currentColor" stroke-width="2"/>
                <path d="M21 15L16 10L5 21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="feature-text">
              <h3>Captured Moments</h3>
              <p>Relive the excitement of our events</p>
            </div>
          </div>

          <div class="feature-item">
            <div class="feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                <path d="M23 21V19C23 18.1645 22.7155 17.3541 22.2094 16.7006C21.7033 16.047 20.9996 15.5866 20.2 15.3934" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M16 3.13C16.8003 3.32318 17.5056 3.78384 18.0121 4.43758C18.5187 5.09132 18.8018 5.90282 18.8018 6.74C18.8018 7.57718 18.5187 8.38868 18.0121 9.04242C17.5056 9.69616 16.8003 10.1568 16 10.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="feature-text">
              <h3>Community Spirit</h3>
              <p>Connect with fellow innovators</p>
            </div>
          </div>

          <div class="feature-item">
            <div class="feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <polygon points="12,2 22,8.5 22,15.5 12,22 2,15.5 2,8.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <line x1="12" y1="22" x2="12" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M22 8.5L12 15L2 8.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 15.5L12 9L22 15.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="feature-text">
              <h3>Innovation Hub</h3>
              <p>Showcase of creativity and talent</p>
            </div>
          </div>
        </div>

        <!-- Call to Action -->
        <div class="intro-cta">
          <button class="explore-btn" (click)="scrollToGallery()">
            <span class="explore-text">Explore Gallery</span>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Enhanced Image with Better Height and Zoom -->
      <div class="intro-image">
        <div class="image-container">
          <img 
            src="assets/images/gallery-intro.jpg" 
            alt="Gallery Introduction" 
            class="intro-img"
          />
          <div class="image-overlay">
            <div class="overlay-content">
              <h3>Visual Memories</h3>
              <p>Through Captured Moments</p>
            </div>
          </div>
          <div class="image-glow"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section 2: Image Gallery with Enhanced Layout -->
  <section class="gallery-section" id="gallery-grid">
    <div class="gallery-content">
      
      <!-- Loading State -->
      <div *ngIf="isLoading" class="loading-container">
        <div class="loading-spinner"></div>
        <p class="loading-text">Loading Gallery...</p>
      </div>

      <!-- Gallery Grid with Instant Loading -->
      <div 
        *ngIf="!isLoading" 
        class="gallery-grid"
      >
        <div 
          *ngFor="let image of currentPageImages; let i = index; trackBy: trackByImageId"
          class="gallery-item"
          [class]="'item-' + (i + 1)"
          (click)="openImageModal(image)"
          [attr.data-event]="image.eventName"
        >
          <div class="image-container">
            <img 
              [src]="image.src" 
              [alt]="image.alt"
              class="gallery-image"
              loading="lazy"
            />
            <div class="image-overlay">
              <div class="overlay-content">
                <h3 class="event-name">{{ image.eventName }}</h3>
                <p class="view-hint">Click to view</p>
              </div>
            </div>
            <div class="hover-glow"></div>
          </div>
        </div>
      </div>

      <!-- Enhanced Pagination Controls -->
      <div class="pagination-container" *ngIf="!isLoading">
        
        <div class="pagination-controls">
          <div class="page-numbers">
            <button
              *ngFor="let page of pageNumbers"
              class="page-number-btn"
              [class.active]="page === currentPage"
              (click)="goToPage(page)"
            >
              {{ page }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section 3: Inspirational Quote (Reduced Spacing) -->
  <section class="inspiration-section">
    <div class="inspiration-content">
      <div class="quote-container">
        <div class="quote-mark">"</div>
        <blockquote class="inspirational-quote">
          Every event is a new opportunity to learn, connect, and create memories that last a lifetime. 
          Join us in building a community where innovation meets celebration.
        </blockquote>
        <div class="quote-author">
          <span class="author-name">FestFlex Community</span>
          <span class="author-title">Building Tomorrow's Leaders</span>
        </div>
      </div>
      <div class="inspiration-background">
        <div class="floating-element element-1"></div>
        <div class="floating-element element-2"></div>
        <div class="floating-element element-3"></div>
      </div>
    </div>
  </section>

  <!-- Section 4: Footer (No spacing gap) -->
  <app-footer></app-footer>
</div>

<!-- Image Modal -->
<div 
  class="modal-overlay" 
  *ngIf="showModal"
  (click)="closeImageModal()"
>
  <div class="modal-container" (click)="$event.stopPropagation()">
    <button class="modal-close" (click)="closeImageModal()">
      <span class="close-icon">âœ•</span>
    </button>
    
    <div class="modal-content" *ngIf="selectedImage">
      <div class="modal-image-container">
        <img 
          [src]="selectedImage.src" 
          [alt]="selectedImage.alt"
          class="modal-image"
        />
      </div>
      
      <div class="modal-info">
        <div class="modal-content-wrapper">
          <h2 class="modal-event-name">{{ selectedImage.eventName }}</h2>
          <p class="modal-description">{{ selectedImage.eventDescription }}</p>
          <p class="modal-date">{{ selectedImage.eventDate }}</p>
        </div>
      </div>
    </div>
  </div>
</div>