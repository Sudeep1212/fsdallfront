<!-- Professional Results Page - Google-inspired Design -->
<div class="results-page">
  <div class="results-container">
    <!-- Header Section with Center-aligned Titles -->
    <div class="results-header">
      <div class="header-content">
        <h1 class="page-title text-gradient">Competition Results</h1>
        <p class="page-subtitle">Track your performance and achievements</p>
      </div>
    </div>

    <!-- Search and Filter Controls -->
    <div class="results-controls">
      <div class="search-section">
        <div class="search-input-container">
          <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none">
            <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
            <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <input 
            type="text" 
            class="search-input"
            placeholder="Search by participant name, event, or date..."
            [(ngModel)]="searchTerm"
            (input)="applyFilters()">
          <button 
            *ngIf="searchTerm" 
            class="clear-search"
            (click)="clearSearch()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
              <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="filter-section">
        <div class="filter-dropdown">
          <select 
            class="filter-select"
            [(ngModel)]="selectedEventType"
            (change)="applyFilters()">
            <option value="">All Events</option>
            <option *ngFor="let eventType of availableEventTypes" [value]="eventType">
              {{ eventType }}
            </option>
          </select>
          <svg class="dropdown-icon" width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>

        <div class="filter-dropdown">
          <select 
            class="filter-select"
            [(ngModel)]="selectedRankRange"
            (change)="applyFilters()">
            <option value="">All Ranks</option>
            <option value="1-3">Top 3</option>
            <option value="4-10">Ranks 4-10</option>
            <option value="11+">Rank 11+</option>
          </select>
          <svg class="dropdown-icon" width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>

        <button 
          *ngIf="hasActiveFilters()"
          class="clear-filters-btn"
          (click)="clearAllFilters()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M3 6H21" stroke="currentColor" stroke-width="2"/>
            <path d="M8 6V4C8 2.89543 8.89543 2 10 2H14C15.1046 2 16 2.89543 16 4V6" stroke="currentColor" stroke-width="2"/>
            <path d="M19 6V20C19 21.1046 18.1046 22 17 22H7C6.89543 22 6 21.1046 6 20V6" stroke="currentColor" stroke-width="2"/>
          </svg>
          Clear Filters
        </button>
      </div>
    </div>

    <!-- Results Statistics -->
    <div class="results-stats" *ngIf="filteredResults.length > 0">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon winners">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M6 9H4.5C3.67157 9 3 9.67157 3 10.5V18.5C3 19.3284 3.67157 20 4.5 20H6M6 9V20M6 9H18M6 20H18M18 9H19.5C20.3284 9 21 9.67157 21 10.5V18.5C21 19.3284 20.3284 20 19.5 20H18M18 9V20" stroke="currentColor" stroke-width="2"/>
              <path d="M12 3L13.09 6.26L16 7L13.09 7.74L12 11L10.91 7.74L8 7L10.91 6.26L12 3Z" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <div class="stat-content">
            <div class="stat-number">{{ getTopPerformersCount() }}</div>
            <div class="stat-label">Top 3 Finishers</div>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon events">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
              <line x1="16" y1="2" x2="16" y2="6" stroke="currentColor" stroke-width="2"/>
              <line x1="8" y1="2" x2="8" y2="6" stroke="currentColor" stroke-width="2"/>
              <line x1="3" y1="10" x2="21" y2="10" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <div class="stat-content">
            <div class="stat-number">{{ getUniqueEventsCount() }}</div>
            <div class="stat-label">Events Completed</div>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon participants">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21" stroke="currentColor" stroke-width="2"/>
              <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
              <path d="M23 21V19C23 17.1362 21.7252 15.5701 20 15.126" stroke="currentColor" stroke-width="2"/>
              <path d="M16 3.12598C17.7252 3.56994 19 5.13616 19 7C19 8.86384 17.7252 10.4301 16 10.874" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <div class="stat-content">
            <div class="stat-number">{{ getTotalParticipantsCount() }}</div>
            <div class="stat-label">Total Participants</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Results Table -->
    <div class="results-table-container">
      <div class="table-header">
        <h3 class="table-title">
          {{ filteredResults.length > 0 ? 'Competition Results' : 'No Results Found' }}
        </h3>
        <div class="table-info">
          {{ getPaginationInfo() }}
        </div>
      </div>

      <div class="professional-table" *ngIf="filteredResults.length > 0">
        <div class="table-wrapper">
          <table class="results-table">
            <thead>
              <tr>
                <th class="rank-column">
                  <div class="header-content center-aligned">
                    <span>Rank</span>
                  </div>
                </th>
                <th class="participant-column">
                  <div class="header-content center-aligned">
                    <span>Participant</span>
                  </div>
                </th>
                <th class="college-column">
                  <div class="header-content center-aligned">
                    <span>College</span>
                  </div>
                </th>
                <th class="event-column">
                  <div class="header-content center-aligned">
                    <span>Event</span>
                  </div>
                </th>
                <th class="date-column">
                  <div class="header-content center-aligned">
                    <span>Date</span>
                  </div>
                </th>
                <th class="score-column">
                  <div class="header-content center-aligned">
                    <span>Score</span>
                  </div>
                </th>
                <th class="status-column">
                  <div class="header-content center-aligned">
                    <span>Conducted By</span>
                  </div>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr 
                *ngFor="let result of getPaginatedResults(); let i = index"
                class="table-row"
                [class.winner-row]="result.rank <= 3">
                
                <!-- Rank Column -->
                <td class="rank-cell">
                  <div class="rank-container">
                    <div class="rank-badge" [class]="getRankClass(result.rank)">
                      {{ result.rank }}
                    </div>
                  </div>
                </td>

                <!-- Participant Column -->
                <td class="participant-cell">
                  <div class="participant-info">
                    <div class="participant-avatar">
                      {{ result.participantInitials }}
                    </div>
                    <div class="participant-details">
                      <div class="participant-name">{{ result.participantName }}</div>
                      <div class="participant-id">{{ result.participantId }}</div>
                    </div>
                  </div>
                </td>

                <!-- College Column -->
                <td class="college-cell">
                  <div class="college-info">
                    <div class="college-name">{{ result.participantCollege }}</div>
                  </div>
                </td>

                <!-- Event Column -->
                <td class="event-cell">
                  <div class="event-info">
                    <div class="event-name">{{ result.eventName }}</div>
                    <div class="event-type" [style.color]="getEventTypeColor(result.eventType)">
                      {{ result.eventType }}
                    </div>
                  </div>
                </td>

                <!-- Date Column -->
                <td class="date-cell">
                  <div class="date-info">
                    <div class="event-date">{{ result.eventStartDate | date:'MMM dd, yyyy' }}</div>
                    <div class="relative-date">{{ getRelativeDate(result.eventStartDate) }}</div>
                  </div>
                </td>

                <!-- Score Column -->
                <td class="score-cell">
                  <div class="score-container">
                    <div class="score-value">{{ result.score || 'N/A' }}</div>
                    <div class="score-progress" *ngIf="result.score">
                      <div 
                        class="score-bar" 
                        [style.width]="getScorePercentage(result.score) + '%'"
                        [style.background-color]="getScoreColor(result.score)">
                      </div>
                    </div>
                  </div>
                </td>

                <!-- Conducted By Column -->
                <td class="status-cell">
                  <div class="club-badge">
                    <div class="club-indicator"></div>
                    <span>{{ result.conductedBy }}</span>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Empty State -->
      <div class="empty-state" *ngIf="filteredResults.length === 0 && !isLoading">
        <div class="empty-content">
          <svg width="64" height="64" viewBox="0 0 24 24" fill="none">
            <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
            <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2"/>
          </svg>
          <h3>No Results Found</h3>
          <p>Try adjusting your search criteria or filters</p>
          <button class="reset-btn" (click)="clearAllFilters()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M3 12L9 18L21 6" stroke="currentColor" stroke-width="2"/>
            </svg>
            Show All Results
          </button>
        </div>
      </div>

      <!-- Pagination Controls -->
      <div class="pagination-controls" *ngIf="filteredResults.length > itemsPerPage">
        <div class="pagination-info">
          <span>{{ getPaginationInfo() }}</span>
        </div>
        
        <div class="pagination-buttons">
          <button 
            class="pagination-btn"
            [disabled]="currentPage === 1"
            (click)="changePage(currentPage - 1)">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2"/>
            </svg>
            Previous
          </button>
          
          <div class="page-numbers">
            <button 
              *ngFor="let page of getPageNumbers()"
              class="page-number"
              [class.active]="page === currentPage"
              [disabled]="page === '...'"
              (click)="page !== '...' && changePage(+page)">
              {{ page }}
            </button>
          </div>
          
          <button 
            class="pagination-btn"
            [disabled]="currentPage === getTotalPages()"
            (click)="changePage(currentPage + 1)">
            Next
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2"/>
            </svg>
          </button>
        </div>
        
        <div class="items-per-page">
          <label>Show:</label>
          <select 
            [(ngModel)]="itemsPerPage" 
            (change)="onItemsPerPageChange()"
            class="items-select">
            <option value="10">10</option>
            <option value="25">25</option>
            <option value="50">50</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Loading State -->
    <div class="loading-overlay" *ngIf="isLoading">
      <div class="loading-content">
        <div class="loading-spinner"></div>
        <p>Loading results...</p>
      </div>
    </div>
  </div>
</div>